<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">

<div  style="border-radius: 23px;">




  <div class="container-fluid">
    <div class="row">
      <nav class="col-md-2 d-md-block bg-light sidebar" style="border-radius: 23px;">
        <div class="sidebar-sticky">
          <ul class="nav flex-column">
            <li class="nav-item">
              <a class="nav-link active">
                <i class="fas fa-user"></i>User Profile
              </a>
            </li>





            <li class="nav-item">
              <a class="nav-link"  href="sign-in" (click)="authService.SignOut()">
                <i class="fas fa-sign-out-alt"></i>Log out
              </a>
            </li>
          </ul>
        </div>
      </nav>



      <main class="col-md-10 ml-sm-auto col-lg-10 mt-4 ">


        <section class="section profile">
          <div class="row">
            <div class="col-xl-4">

              <div class="card">
                <div class="card-body profile-card pt-4 d-flex flex-column align-items-center">

                  <img src="{{user.photoURL}}" class="rounded-circle img-thumbnail mb-4 " alt="{{user.displayName}}"
                    width="200" height="200" style="background-color: #3c3f41;">
                  <h2>{{user.displayName}}</h2>


                </div>
              </div>

            </div>

            <div class="col-xl-8">

              <div class="card">
                <div class="card-body pt-3">
                  <!-- Bordered Tabs -->
                  <ul class="nav nav-tabs nav-tabs-bordered">

                    <li class="nav-item">
                      <button class="nav-link active" data-bs-toggle="tab"
                        data-bs-target="#profile-overview">Overview</button>
                    </li>

                    <li class="nav-item">
                      <button class="nav-link" data-bs-toggle="tab" data-bs-target="#profile-edit">Edit Profile</button>
                    </li>

                  </ul>



                  <div class="tab-content pt-2">

                    <div class="tab-pane fade show active profile-overview" id="profile-overview">

                      <h5 class="card-title mb-5">Profile Details</h5>

                      <div class="row mb-4">
                        <div class="col-lg-3 col-md-4 label ">Full Name</div>
                        <div class="col-lg-9 col-md-8">{{user.displayName}}</div>
                      </div>

                      <div class="row mb-4">
                        <div class="col-lg-3 col-md-4 label">City</div>
                        <div *ngIf="  user.city" class="col-lg-9 col-md-8">{{user.city}}</div>
                        <div *ngIf=" !user.city" class="col-lg-9 col-md-8">---------------</div>
                      </div>

                      <div class="row mb-4">
                        <div class="col-lg-3 col-md-4 label">Address</div>
                        <div *ngIf=" user.adress" class="col-lg-9 col-md-8">{{user.adress}}</div>
                        <div *ngIf=" !user.adress" class="col-lg-9 col-md-8">---------------</div>
                      </div>

                      <div class="row mb-4">
                        <div class="col-lg-3 col-md-4 label">Phone</div>
                        <div *ngIf="user.phone" class="col-lg-9 col-md-8">{{user.phone}}</div>
                        <div *ngIf=" !user.phone" class="col-lg-9 col-md-8">---------------</div>
                      </div>

                      <div class="row">
                        <div class="col-lg-3 col-md-4 label">Email</div>
                        <div class="col-lg-9 col-md-8">{{user.email}}</div>
                      </div>

                    </div>



                    <div class="tab-pane fade profile-edit pt-3" id="profile-edit">

                      <!-- Profile Edit Form -->
                      <form (ngSubmit)="updateuser()">
                        <div class="row mb-3">
                          <label for="profileImage" class="col-md-4 col-lg-3 col-form-label">Profile Image</label>
                          <div class="col-md-8 col-lg-9">
                            <img src={{user.photoURL}} alt="Profile">
                            <div class="pt-2">
                             <input (change)="onFileChange($event)" class="form-control" type="file" id="formFile" title="Upload new profile image">
                            </div>
                          </div>
                        </div>

                        <div class="row mb-3">
                          <label for="fullName" class="col-md-4 col-lg-3 col-form-label">Full Name</label>
                          <div class="col-md-8 col-lg-9">
                            <input [(ngModel)]="user.displayName" name="fullName" type="text" class="form-control" id="fullName">
                          </div>
                        </div>


                        <div class="row mb-3">
                          <label for="Country" class="col-md-4 col-lg-3 col-form-label">City</label>
                          <div class="col-md-8 col-lg-9">
                            <input  [(ngModel)]="user.city" name="country" type="text" class="form-control" id="Country" >
                          </div>
                        </div>

                        <div class="row mb-3">
                          <label for="Address" class="col-md-4 col-lg-3 col-form-label">Address</label>
                          <div class="col-md-8 col-lg-9">
                            <input  [(ngModel)]="user.adress" name="address" type="text" class="form-control" id="Address">
                          </div>
                        </div>

                        <div class="row mb-3">
                          <label for="Phone" class="col-md-4 col-lg-3 col-form-label">Phone</label>
                          <div class="col-md-8 col-lg-9">
                            <input [(ngModel)]="user.phone" name="phone" type="text" class="form-control" id="Phone">
                          </div>
                        </div>

                        <div class="row mb-3">
                          <label for="Email" class="col-md-4 col-lg-3 col-form-label">Email</label>
                          <div class="col-md-8 col-lg-9">
                            <p name="email" type="email" class="form-control" id="Email">{{user.email}}</p>
                          </div>
                        </div>

                        <div class="text-center" >
                          <button *ngIf="!submitButton" type="submit" class="btn btn-primary disabled" id="submitbtn">Please wait...</button>
                          <button *ngIf="submitButton" type="submit" class="btn btn-primary " id="submitbtn">Save Changes</button>
                        </div>
                      </form>
                    </div>

                  </div><!-- End Bordered Tabs -->

                </div>
              </div>

            </div>
          </div>
        </section>
      </main>

    </div>
  </div>
</div>
