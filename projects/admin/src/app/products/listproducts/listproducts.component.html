<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">



    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,300;0,400;0,500;0,600;0,700;1,800&display=swap"
        rel="stylesheet">


</head>

<body>
    <main id="main" class="main">



        <section class="section">
            <div class="container  ">
                <div class="row">
                    <div class="col-md-12 ">
                        <div class="card" >
                            <div class="card-body  " style="position:relative;">
                                <div class="row d-flex mt-3">
                                    <div  class="col-sm-12 createSegment mt-2">
                                        <a class="btn dim_button create_new" routerLink="/insertproduct"> <span
                                                class="glyphicon glyphicon-plus"></span> Create New Product</a>
                                    </div>
                            
                                </div>
                                <h3 id="error" class="text-center mt-3"></h3>
                                <div style="overflow-x: scroll;">
                                    <table *ngIf="products" style="width:80%;" id="filtertable" datatable
                                        class="table cust-datatable dataTable no-footer">
                                        <thead>
                                            <tr>
                                                <th style="min-width:15%;">Name</th>
                                                <th>Qty</th>
                                                <th style="min-width:8%;">Price</th>
                                                <th>Sold</th>
                                                <th style="min-width:15%;">P.A.D</th>
                                                <th style="min-width:15%;">colors</th>
                                                <th style="min-width:30%;">Images</th>
                                                <th style="min-width:25%;">Category</th>
                                                <th style="min-width:25%;">Subcategory</th>
                                                <th style="min-width:25%;">Created</th>
                                                <th *ngIf="permission==admin" style="min-width:28%;">Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let a of products">
                                                <td class="text-danger fs-6" style="vertical-align: middle;">{{a.title}}</td>
                                                <td style="vertical-align: middle;">{{a.quantity}}</td>
                                                <td class="text-success" style="vertical-align: middle;">{{a.price}}$</td>
                                                <td style="vertical-align: middle;">{{a.sold}}%</td>
                                                <td style="vertical-align: middle;">{{a.priceAfterDiscount}}$</td>
                                                <td style="vertical-align: middle;">
                                                    <div *ngFor="let x of a.colors"><span id="colors">-{{x}}</span>
                                                    </div>
                                                </td>
                                                <td style="vertical-align: middle;">
                                                    <div class="row mb-1" *ngFor="let s of a.images"><img src={{s}}
                                                            width="5" height="40"></div>
                                                </td>
                                                <td style="vertical-align: middle;">
                                                    <div *ngFor="let c of categories">
                                                        <h6 *ngIf="a.category == c._id">{{c.name}}</h6>
                                                    </div>
                                                </td>
                                                <td style="vertical-align: middle;">
                                                    <div *ngFor="let s of subcategories">
                                                        <h6 *ngIf="a.subcategory == s._id">{{s.name}}</h6>
                                                    </div>
                                                </td>
                                                <td style="font-family: Arial, Helvetica, sans-serif;vertical-align: middle">{{a.updatedAt |date:'dd/MM/yy HH:mm'}}</td>
                                                <td  *ngIf="permission==admin" style="vertical-align: middle;">
                                                    <div class="btn-group me-2 mb-2">
                                                        <button [routerLink]="['/update/',a._id]"
                                                            class="btn btn-outline-success dropdown_icon"
                                                            data-toggle="dropdown">
                                                            <i class="fa fa-pencil-square-o fs-4 "></i> </button>

                                                    </div>

                                                    <div class="btn-group">
                                                        <button class="btn btn-outline-danger dropdown_icon"
                                                            (click)="deleteproduct(a._id)" data-toggle="dropdown">
                                                            <i class=" fa fa-trash-o fs-3 "></i>
                                                        </button>

                                                    </div>
                                                </td>
                                            </tr>


                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


        </section>

    </main>
</body>

</html>


<!-- <ag-table #table paginate="100" [items]="dataItems" clickable height="500px" min-width="650px">
    <ag-table-header>
        <ag-table-col filter field="name" placeholder="Set a name">
            Name
        </ag-table-col>
        <ag-table-col filter="country" placeholder="Set a country" width="200px">
            Country
        </ag-table-col>
        <ag-table-col filter="select" field="profession" [options]="professionsList" width="150px">
            Profession
        </ag-table-col>
    </ag-table-header>
    <ag-table-body row-height="90px">
        <ag-table-row *ngFor="let item of table.items" (click)="onClick(item)">
            <ag-table-cell class="name">
                <img [src]="item.avatar" />
                <div>
                    <span>{{item.name}}</span><br/>
                    {{item.phone}}<br/>
                    {{item.email}}
                </div>
            </ag-table-cell>
            <ag-table-cell>
                {{item.profArea}}
            </ag-table-cell>
            <ag-table-cell>
                {{item.profType}}
            </ag-table-cell>
        </ag-table-row>
    </ag-table-body>
</ag-table> -->